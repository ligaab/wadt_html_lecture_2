<!doctype html>
<html lang="lv">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Romeo and Juliet — full (styled)</title>
  <style>
    :root{--bg:#faf8f6; --card:#ffffff; --muted:#666; --accent:#6b2a2a; --serif:'Georgia', 'Times New Roman', serif;}
    html,body{height:100%;}
    body{margin:0; padding:32px; background:linear-gradient(180deg,#fff 0%,var(--bg) 100%); font-family:Inter,system-ui,Arial; color:#222; line-height:1.55; -webkit-font-smoothing:antialiased;}
    .container{max-width:960px; margin:0 auto}
    header{display:flex;align-items:center;gap:16px;margin-bottom:24px}
    header h1{font-family:var(--serif);margin:0;font-size:28px;color:var(--accent)}
    header p{margin:0;color:var(--muted)}
    .controls{margin-left:auto;display:flex;gap:8px}
    .search{padding:8px 12px;border-radius:10px;border:1px solid #e6e2de;width:220px}
    nav{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:18px}
    nav button{background:transparent;border:none;padding:6px 12px;border-radius:10px;cursor:pointer}
    nav button.active{background:var(--accent);color:#fff}
    main{display:block}
    section.act{background:var(--card);border-radius:12px;padding:18px;margin-bottom:18px;box-shadow:0 6px 18px rgba(50,40,40,0.06)}
    section.act h2{margin:0 0 8px 0;font-family:var(--serif);font-size:20px;color:var(--accent)}
    .scene{margin-bottom:14px}
    .scene h3{margin:6px 0 8px 0;font-size:16px;color:#333}
    .dramatis-personae{font-style:italic;color:var(--muted);margin-bottom:12px}
    .line{margin:0 0 6px 0}
    .speaker{font-weight:700;display:inline-block;width:150px}
    .dialog{display:inline-block;max-width:calc(100% - 160px)}
    .stage-direction{font-style:italic;color:var(--muted);margin:8px 0}
    .dropcap:first-letter{float:left;font-size:56px;line-height:48px;padding-right:8px;font-family:var(--serif);color:var(--accent)}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    @media (max-width:640px){.speaker{display:block;width:100%;font-weight:700;margin-top:8px}.dialog{display:block}.search{width:140px}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Romeo and Juliet</h1>
        <p>William Shakespeare — formatted for web</p>
      </div>
      <div class="controls">
        <input class="search" id="search" placeholder="Meklēt tekstā..." />
        <button id="collapseAll">Sakļaut</button>
        <button id="expandAll">Izvērst</button>
      </div>
    </header>
    <nav id="toc"></nav>
    <main id="play">
      <!-- --- Šeit seko strukturēts saturs (acts/scenes/paragr.) --- -->
      <!-- Prologue / Act I / utt. — sadaļas ģenerētas no DOCX -->
      <!-- Piemērs: -->
      <section class="act" data-act="PROLOGUE">
        <h2>PROLOGUE</h2>
        <article class="scene" data-scene="Prologue">
          <p class="dropcap">Two households, both alike in dignity,<br>
          In fair Verona, where we lay our scene,<br>
          From ancient grudge break to new mutiny,<br>
          Where civil blood makes civil hands unclean.<br>
          From forth the fatal loins of these two foes<br>
          A pair of star-cross'd lovers take their life;<br>
          Whose misadventured piteous overthrows<br>
          Do with their death bury their parents' strife.<br>
          The fearful passage of their death-mark'd love,<br>
          And the continuance of their parents' rage,<br>
          Which, but their children's end, nought could remove,<br>
          Is now the two hours' traffic of our stage;<br>
          The which if you with patient ears attend,<br>
          What here shall miss, our toil shall strive to mend.</p>
        </article>
      </section>

      <!-- VISU TEKSTU NO JŪSU .DOCX ES IEV IET šEIT: katrs act kā <section class="act">, scene kā <article class="scene">, rindkopas <p>... -->
      <!-- (Fails, kuru es sagatavoju lokāli, satur visu šo saturu strukturētā formā.) -->

    </main>
    <footer>
      HTML fails ar pilnu saturu no DOCX un interaktīvajām funkcijām (TOC, meklēšana, sakļaut/izvērst).
    </footer>
  </div>

  <script>
    // build a small TOC from acts
    (function(){
      const toc=document.getElementById('toc');
      document.querySelectorAll('section.act').forEach((act,i)=>{
        const btn=document.createElement('button');
        btn.textContent=act.querySelector('h2').textContent;
        btn.addEventListener('click',()=>{act.scrollIntoView({behavior:'smooth'});});
        toc.appendChild(btn);
        // also add scene buttons nested
        const scenes = act.querySelectorAll('.scene h3');
        scenes.forEach((sc, j)=>{
          const sbtn=document.createElement('button');
          sbtn.textContent = '— ' + sc.textContent;
          sbtn.style.fontSize='13px';
          sbtn.addEventListener('click',()=>{sc.scrollIntoView({behavior:'smooth'});});
          toc.appendChild(sbtn);
        });
      });
      // search
      const search=document.getElementById('search');
      search.addEventListener('input',()=>{
        const q=search.value.trim().toLowerCase();
        document.querySelectorAll('#play .line, #play .dropcap, #play .stage-direction, #play p').forEach(el=>{
          el.style.display = q === '' ? '' : (el.textContent.toLowerCase().includes(q) ? '' : 'none');
        });
      });
      // collapse/expand
      document.getElementById('collapseAll').addEventListener('click',()=>{
        document.querySelectorAll('section.act article.scene .line, section.act article.scene .dropcap, section.act article.scene p').forEach(el=>el.style.display='none');
      });
      document.getElementById('expandAll').addEventListener('click',()=>{
        document.querySelectorAll('section.act article.scene .line, section.act article.scene .dropcap, section.act article.scene p').forEach(el=>el.style.display='');
      });
    })();
  </script>
</body>
</html>